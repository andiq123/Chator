<mat-card *ngIf="formGroup"
    [ngClass]="{'registerForm':settings.registerForm, 'nonRegisterForm':!settings.registerForm}">
    <mat-card-title *ngIf="title">{{title}}</mat-card-title>
    <form [formGroup]="formGroup" (ngSubmit)="submit()">
        <mat-form-field appearance="fill" *ngFor="let field of fields">
            <mat-label>{{field.label}}</mat-label>
            <input matInput [formControlName]="field.name" [placeholder]="field.placeholder">
            <mat-error *ngIf="formGroup.get(field.name)?.invalid && formGroup.dirty">
                <mat-error *ngIf="formGroup.get(field.name)?.hasError('required')">
                    {{field.label}} is required
                </mat-error>
                <mat-error *ngIf="formGroup.get(field.name)?.hasError('minlength')">
                    {{field.label}} must be at least {{field.minLength}} characters.
                    {{field.minLength ? field.minLength - formGroup.get(field.name)?.value.length : null}} Remaining
                </mat-error>
                <mat-error *ngIf="formGroup.get(field.name)?.hasError('maxlength')">
                    {{field.label}} must be at most {{field.maxLength}} characters
                </mat-error>
            </mat-error>
        </mat-form-field>
        <button mat-flat-button color="primary" [disabled]="formGroup.invalid">Submit</button>
    </form>
</mat-card>